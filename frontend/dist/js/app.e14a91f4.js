(function(){"use strict";var e={859:function(e,t,a){var o=a(5130),s=a(6768),l=a(4232),r=a.p+"img/logo.837230b3.png";const i={key:0},n={class:"flex justify-between items-center"},d={class:"flex gap-2 w-full"},c={class:"flex items-center"},u={class:"hidden lg:flex space-x-12 text-base font-semibold font-nunito text-primaryText pt-1"},m={key:0,class:"hidden lg:flex space-x-4 items-center"},p={class:"flex items-center gap-2"},v={class:"font-bold"},f={key:0,class:"pi pi-verified text-primaryText",style:{"font-size":"1.2rem"}},b={key:0},g={key:1},y={key:0,class:"flex mt-2"},h={key:1},k={class:"flex gap-4 mt-3"},x={class:"flex items-center gap-2"},w={key:1,class:"hidden lg:flex space-x-4"},L={key:0,class:"absolute top-20 right-2 border-1 bg-white text-primaryText rounded-lg shadow-2xl py-4 px-6 z-50 lg:hidden",style:{"border-color":"gray"}},T={key:0},C={key:1,class:"flex items-center space-x-3"},F={class:"flex items-center gap-2"},A={class:"font-bold"},R={key:0},P={key:1},U={key:0,class:"flex mt-2"},V={key:1},S={class:"flex gap-4 mt-3"},I={class:"flex items-center gap-2"};function E(e,t,a,o,E,_){const D=(0,s.g2)("Toast"),O=(0,s.g2)("Button"),B=(0,s.g2)("FileUpload"),K=(0,s.g2)("Dialog"),X=(0,s.g2)("Avatar"),j=(0,s.g2)("Card"),M=(0,s.g2)("Drawer"),z=(0,s.g2)("Menubar"),W=(0,s.g2)("router-link"),q=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",null,[e.isAuthPage?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",i,[(0,s.bF)(D,{class:"z-50"}),(0,s.bF)(K,{visible:e.showUploadDialog,"onUpdate:visible":t[0]||(t[0]=t=>e.showUploadDialog=t),class:"rounded-xl shadow-lg font-nunito text-primaryText",header:"Upload Your ID",modal:""},{default:(0,s.k6)((()=>[t[21]||(t[21]=(0,s.Lk)("div",{class:"text-center mb-4"},[(0,s.Lk)("p",null,"Please upload a clear photo of your government-issued ID to complete the verification process.")],-1)),(0,s.bF)(B,{name:"idUpload",customUpload:!0,onSelect:e.onFileSelect,multiple:!1,accept:"image/*",maxFileSize:1e6},{header:(0,s.k6)((({chooseCallback:a,clearCallback:o,files:l})=>[(0,s.Lk)("div",n,[(0,s.Lk)("div",d,[(0,s.bF)(O,{onClick:e=>a(),icon:"pi pi-plus",class:"w-1/3 text-white bg-primaryText p-button-rounded hover:shadow-sm transform transition-transform hover:scale-102 active:scale-100",outlined:""},{default:(0,s.k6)((()=>t[17]||(t[17]=[(0,s.Lk)("i",{class:"pi pi-plus mr-2"},null,-1),(0,s.eW)("Choose ")]))),_:2},1032,["onClick"]),(0,s.bF)(O,{onClick:e.customUpload,icon:"pi pi-upload",class:"w-1/3 text-primaryText border-2 p-button-rounded hover:shadow-sm transform transition-transform hover:scale-102 active:scale-100",outlined:"",disabled:!l||0===l.length},{default:(0,s.k6)((()=>t[18]||(t[18]=[(0,s.Lk)("i",{class:"pi pi-upload mr-2"},null,-1),(0,s.eW)("Upload ")]))),_:2},1032,["onClick","disabled"]),(0,s.bF)(O,{onClick:e=>o(),icon:"pi pi-times",class:"w-1/3 text-primaryText border-2 p-button-rounded hover:shadow-sm transform transition-transform hover:scale-102 active:scale-100",outlined:"",severity:"danger",disabled:!l||0===l.length},{default:(0,s.k6)((()=>t[19]||(t[19]=[(0,s.Lk)("i",{class:"pi pi-times mr-2"},null,-1),(0,s.eW)("Cancel ")]))),_:2},1032,["onClick","disabled"])])])])),empty:(0,s.k6)((()=>t[20]||(t[20]=[(0,s.Lk)("div",{class:"text-center"},[(0,s.Lk)("i",{class:"pi pi-cloud-upload text-4xl mb-3"}),(0,s.Lk)("p",null,"Drag and drop your ID image here or click to upload.")],-1)]))),_:1},8,["onSelect"])])),_:1},8,["visible"]),(0,s.bF)(z,{model:e.items,class:"absolute w-full bg-transparent top-0 left-0 z-50"},{start:(0,s.k6)((()=>[(0,s.Lk)("div",c,[(0,s.Lk)("img",{src:r,alt:"Spearow Logo",onClick:t[1]||(t[1]=(...t)=>e.goToHome&&e.goToHome(...t)),class:"h-24 w-24 mr-2 transform transition-transform hover:scale-104 active:scale-100 cursor-pointer"}),t[22]||(t[22]=(0,s.Lk)("span",{class:"text-5xl font-extrabold text-primaryText font-nunito mr-6 transform transition-transform hover:scale-103 active:scale-100"},"Spearow",-1))]),(0,s.Lk)("div",u,[(0,s.Lk)("span",{onClick:t[2]||(t[2]=(...t)=>e.goToHome&&e.goToHome(...t)),class:(0,l.C4)(["cursor-pointer transform transition-none hover:scale-103 active:scale-100",{"active-tab shadow-lg":e.isActive("/home")}])}," Home ",2),(0,s.Lk)("span",{onClick:t[3]||(t[3]=t=>e.navigateTo("/reports")),class:(0,l.C4)(["cursor-pointer transform transition-none hover:scale-103 active:scale-100",{"active-tab shadow-lg":e.isActive("/reports")}])}," Reports ",2),(0,s.Lk)("span",{onClick:t[4]||(t[4]=t=>e.navigateTo("/data-upload")),class:(0,l.C4)(["cursor-pointer transform transition-none hover:scale-103 active:scale-100",{"active-tab shadow-lg":e.isActive("/data-upload")}])}," Upload Data ",2),e.state.isAdmin?((0,s.uX)(),(0,s.CE)("span",{key:0,onClick:t[5]||(t[5]=t=>e.navigateTo("/admin")),class:(0,l.C4)(["cursor-pointer transform transition-none hover:scale-103 active:scale-100",{"active-tab shadow-lg":e.isActive("/admin")}])}," Admin ",2)):(0,s.Q3)("",!0)])])),end:(0,s.k6)((()=>[e.state.isAuthenticated?((0,s.uX)(),(0,s.CE)("div",m,[(0,s.Lk)("span",{class:"text-lg font-semibold text-primaryText font-nunito transform transition-transform hover:scale-105 active:scale-100 cursor-pointer",onClick:t[6]||(t[6]=t=>e.visible=!0)},"My Account"),(0,s.bF)(X,{icon:"pi pi-user text-primaryText",class:"mr-2 shadow-lg bg-white transform transition-transform hover:scale-110 active:scale-100 cursor-pointer",size:"large",shape:"circle",onClick:t[7]||(t[7]=t=>e.visible=!0)}),(0,s.bF)(M,{visible:e.visible,"onUpdate:visible":t[9]||(t[9]=t=>e.visible=t),position:"right",class:"font-nunito"},{header:(0,s.k6)((()=>[(0,s.Lk)("div",p,[(0,s.bF)(X,{icon:"pi pi-user text-primaryText",shape:"circle",size:"large"}),(0,s.Lk)("span",v,(0,l.v_)(e.userInfo?e.userInfo.name:"User"),1),e.state.isVerified?((0,s.uX)(),(0,s.CE)("i",f)):(0,s.Q3)("",!0)])])),footer:(0,s.k6)((()=>[(0,s.Lk)("div",x,[(0,s.bF)(O,{label:"Account",icon:"pi pi-user",onClick:e.viewAccount,class:"flex-auto text-primaryText border-2 p-button-rounded hover:shadow-sm transform transition-transform hover:scale-102 active:scale-100",outlined:""},null,8,["onClick"]),(0,s.bF)(O,{label:"Logout",icon:"pi pi-sign-out",onClick:e.logOut,class:"flex-auto text-primaryText border-2 p-button-rounded hover:shadow-sm transform transition-transform hover:scale-102 active:scale-100",text:""},null,8,["onClick"])])])),default:(0,s.k6)((()=>[e.state.isVerified?((0,s.uX)(),(0,s.CE)("div",b,[(0,s.Lk)("p",null,(0,l.v_)(e.state.isAdmin?"Admin":"Verified")+" user.",1)])):((0,s.uX)(),(0,s.CE)("div",g,[(0,s.bF)(j,{style:{"background-color":"#f9f9f9"}},{title:(0,s.k6)((()=>t[23]||(t[23]=[(0,s.Lk)("div",{class:"flex items-center gap-2"},[(0,s.Lk)("i",{class:"pi pi-verified text-primaryText",style:{"font-size":"1.5rem"}}),(0,s.Lk)("span",{class:"text-xl font-bold text-primaryText"},"Get Verified")],-1)]))),content:(0,s.k6)((()=>[e.state.submittedID?((0,s.uX)(),(0,s.CE)("div",y,t[24]||(t[24]=[(0,s.Lk)("p",{class:"m-0 text-md text-primaryText"}," We need to verify your identity. We'll review your ID and let you know once you're verified! ",-1)]))):((0,s.uX)(),(0,s.CE)("div",h,t[25]||(t[25]=[(0,s.Lk)("p",{class:"m-0 text-md text-primaryText"}," We need to verify your identity. Upload a photo of your ID to get started. ",-1)])))])),footer:(0,s.k6)((()=>[(0,s.Lk)("div",k,[(0,s.bF)(O,{label:"Upload ID",disabled:e.state.submittedID,icon:"pi pi-upload",onClick:t[8]||(t[8]=t=>e.showUploadDialog=!0),class:"flex-auto text-white !bg-blue-900 border-2 p-button-rounded hover:shadow-sm transform transition-transform hover:scale-102 active:scale-100"},null,8,["disabled"])])])),_:1})]))])),_:1},8,["visible"])])):((0,s.uX)(),(0,s.CE)("div",w,[(0,s.Lk)("button",{class:"border-2 border-primaryText text-primaryText text-base font-nunito font-semibold py-2.5 px-4 rounded-full hover:shadow-md transform transition-transform hover:scale-104 active:scale-100",onClick:t[10]||(t[10]=(...t)=>e.goToLogin&&e.goToLogin(...t))}," Log In "),(0,s.Lk)("button",{class:"bg-primaryText border-primaryText border-2 text-white text-base font-nunito font-semibold py-2.5 px-4 mr-3 rounded-full hover:shadow-md transform transition-transform hover:scale-104 active:scale-100",onClick:t[11]||(t[11]=(...t)=>e.goToRegister&&e.goToRegister(...t))}," Create Account ")])),(0,s.Lk)("button",{class:"lg:hidden flex text-base text-primaryText mr-5 mt-1",onClick:t[12]||(t[12]=(...t)=>e.toggleMenu&&e.toggleMenu(...t))},t[26]||(t[26]=[(0,s.Lk)("i",{class:"pi pi-bars",style:{"font-size":"1.8rem"}},null,-1)]))])),_:1},8,["model"]),e.menuVisible?((0,s.uX)(),(0,s.CE)("div",L,[(0,s.bF)(W,{to:"/home",class:"block py-2 text-lg font-semibold font-nunito transition-all text-primaryText transform transition-none hover:scale-103 active:scale-100",onClick:e.toggleMenu,"active-class":"font-bold"},{default:(0,s.k6)((()=>t[27]||(t[27]=[(0,s.eW)("Home")]))),_:1},8,["onClick"]),(0,s.bF)(W,{to:"/reports",class:"block py-2 text-lg font-semibold font-nunito transition-all text-primaryText transform transition-none hover:scale-103 active:scale-100",onClick:e.toggleMenu,"active-class":"font-bold"},{default:(0,s.k6)((()=>t[28]||(t[28]=[(0,s.eW)("Reports")]))),_:1},8,["onClick"]),(0,s.bF)(W,{to:"/data-upload",class:"block py-2 text-lg font-semibold font-nunito transition-all text-primaryText transform transition-none hover:scale-103 active:scale-100",onClick:e.toggleMenu,"active-class":"font-bold"},{default:(0,s.k6)((()=>t[29]||(t[29]=[(0,s.eW)("Upload Data")]))),_:1},8,["onClick"]),t[34]||(t[34]=(0,s.Lk)("hr",{class:"my-3 border-gray-200"},null,-1)),e.state.isAuthenticated?((0,s.uX)(),(0,s.CE)("div",C,[(0,s.Lk)("span",{class:"text-md font-semibold text-primaryText font-nunito transform transition-transform hover:scale-105 active:scale-100 cursor-pointer",onClick:t[13]||(t[13]=t=>e.visible=!0)},"My Account"),(0,s.bF)(X,{icon:"pi pi-user text-primaryText",onClick:t[14]||(t[14]=t=>e.visible=!0),class:"mr-2 transform transition-transform hover:scale-105 active:scale-100",size:"large",shape:"circle"}),(0,s.bF)(M,{visible:e.visible,"onUpdate:visible":t[16]||(t[16]=t=>e.visible=t),position:"right",class:"font-nunito"},{header:(0,s.k6)((()=>[(0,s.Lk)("div",F,[(0,s.bF)(X,{icon:"pi pi-user text-primaryText",shape:"circle",size:"large"}),(0,s.Lk)("span",A,(0,l.v_)(e.userInfo?e.userInfo.name:"User"),1)])])),footer:(0,s.k6)((()=>[(0,s.Lk)("div",I,[(0,s.bF)(O,{label:"Account",icon:"pi pi-user",onClick:e.viewAccount,class:"flex-auto text-primaryText border-2 p-button-rounded hover:shadow-sm transform transition-transform hover:scale-102 active:scale-100",outlined:""},null,8,["onClick"]),(0,s.bF)(O,{label:"Logout",icon:"pi pi-sign-out",onClick:e.logOut,class:"flex-auto text-primaryText border-2 p-button-rounded hover:shadow-sm transform transition-transform hover:scale-102 active:scale-100",severity:"danger",text:""},null,8,["onClick"])])])),default:(0,s.k6)((()=>[e.state.isVerified?((0,s.uX)(),(0,s.CE)("div",R,[(0,s.Lk)("p",null,(0,l.v_)(e.state.isAdmin?"Admin":"Verified")+" user.",1)])):((0,s.uX)(),(0,s.CE)("div",P,[(0,s.bF)(j,{style:{"background-color":"#f9f9f9"}},{title:(0,s.k6)((()=>t[31]||(t[31]=[(0,s.Lk)("div",{class:"flex items-center gap-2"},[(0,s.Lk)("i",{class:"pi pi-verified text-primaryText",style:{"font-size":"1.5rem"}}),(0,s.Lk)("span",{class:"text-xl font-bold text-primaryText"},"Get Verified")],-1)]))),content:(0,s.k6)((()=>[e.state.submittedID?((0,s.uX)(),(0,s.CE)("div",U,t[32]||(t[32]=[(0,s.Lk)("p",{class:"m-0 text-md text-primaryText"}," We need to verify your identity. We'll review your ID and let you know once you're verified! ",-1)]))):((0,s.uX)(),(0,s.CE)("div",V,t[33]||(t[33]=[(0,s.Lk)("p",{class:"m-0 text-md text-primaryText"}," We need to verify your identity. Upload a photo of your ID to get started. ",-1)])))])),footer:(0,s.k6)((()=>[(0,s.Lk)("div",S,[(0,s.bF)(O,{label:"Upload ID",disabled:e.state.submittedID,icon:"pi pi-upload",onClick:t[15]||(t[15]=t=>e.showUploadDialog=!0),class:"flex-auto text-white !bg-blue-900 border-2 p-button-rounded hover:shadow-sm transform transition-transform hover:scale-102 active:scale-100"},null,8,["disabled"])])])),_:1})]))])),_:1},8,["visible"])])):((0,s.uX)(),(0,s.CE)("div",T,t[30]||(t[30]=[(0,s.Lk)("button",{class:"block w-full border-2 border-primaryText text-primaryText text-base font-nunito font-semibold py-2.5 px-4 rounded-full hover:shadow-md transform transition-transform hover:scale-104 active:scale-100 mt-2"}," Log In ",-1),(0,s.Lk)("button",{class:"block w-full bg-primaryText border-primaryText border-2 text-white text-base font-nunito font-semibold py-2.5 px-4 rounded-full hover:shadow-md transform transition-transform hover:scale-104 active:scale-100 mt-2"}," Create Account ",-1)])))])):(0,s.Q3)("",!0)])),(0,s.bF)(q)])}a(4114);var _=a(144),D=a(1387),O=a(2065),B=a(9130),K=a(7646),X=a(5531),j=a(8333),M=a(478),z=a(7206);const W=(0,_.Kh)({isAuthenticated:"true"===sessionStorage.getItem("isAuthenticated"),isVerified:!1,isAdmin:!1,submittedID:!1});var q=a(3830),H=a(7214),N=a(4373);const $=N.A.create({baseURL:"http://localhost:8000"});$.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}));var Q={login(e){return $.post("/login",e)},register(e){return $.post("/register",e)},fetchHomeData(){return $.get("/home")},fetchReports(e){return $.post("/reports",e)},getDataClasses(){return $.get("/dataclasses")},uploadData(e,t={}){return $.post("/data-upload",e,{headers:{"Content-Type":"multipart/form-data"},...t})},verifyOtp(e){return $.post("/verify-otp",e)},forgotPassword(e){return $.post("/forgot-password",e)},resetPassword(e){return $.post("/reset-password",e)},getUserInfo(){return $.get("/get-user-info")},uploadID(e){return $.post("/uploadID",e,{headers:{"Content-Type":"multipart/form-data"}})},getUsers(){return $.get("/user-data")},getUserReport(e){return $.post("/user-report",e)},updateAdminStatus(e,t){return $.patch(`/user/${e}/admin-status`,{admin:t})},updateVerifiedStatus(e,t){return $.patch(`/user/${e}/verify-status`,{verified:t})},sendVerifiedEmail(e){return $.post(`/user/${e}/send-verified-email`)},getUnverifiedUploads(){return $.get("/admin/unverified-uploads")},verifyUpload(e){return $.post(`/admin/verify-upload/${e}`)}},G=(0,s.pM)({name:"App",components:{Menubar:O.A,Avatar:B.A,Drawer:K.A,Button:X.A,Toast:H.A,Card:j.A,Dialog:M.A,FileUpload:z.A},setup(){const e=(0,D.lq)(),t=(0,D.rd)(),a=(0,_.KR)(!1),o=(0,_.KR)(null),l=(0,_.KR)(!1),r=async()=>{if(i.value)if(o.value&&o.value.id_file)d.add({severity:"warn",summary:"Already Uploaded ID",detail:"You have already uploaded your ID.",life:3e3});else{const t=new FormData;t.append("file",i.value);try{const e=await Q.uploadID(t);d.add({severity:"info",summary:"File Uploaded",detail:e.data.message||"Your ID has been successfully uploaded!",life:3e3}),d.add({severity:"info",summary:"Verification",detail:"We'll review your ID and let you know once you're verified!",life:5e3}),l.value=!1,o.value.id_file=!0,W.submittedID=!0}catch(e){console.error("Error uploading file:",e),d.add({severity:"error",summary:"Upload Failed",detail:"There was an error uploading your ID.",life:3e3})}}},i=(0,_.KR)(null),n=e=>{i.value=e.files[0]},d=(0,q.d)(),c=async()=>{if(W.isAuthenticated)try{const e=await Q.getUserInfo();o.value=e.data,o.value&&"admin"===o.value.user_type?W.isAdmin=!0:W.isAdmin=!1,W.isVerified=!!o.value.verified,W.submittedID=!!o.value.id_file}catch(e){console.error("Failed to fetch user info:",e),d.add({severity:"error",summary:"Error",detail:"Failed to fetch user information.",life:3e3})}},u=e=>t.currentRoute.value.path===e,m=e=>{W.isAuthenticated?setTimeout((()=>{t.push(e)}),50):d.add({severity:"warn",summary:"Not Authorized",detail:"Please Log In or Create an Account first.",life:3e3})},p=()=>{setTimeout((()=>{t.push("/register")}),50)},v=()=>{setTimeout((()=>{t.push("/login")}),50)},f=()=>{setTimeout((()=>{t.push("/home")}),50)},b=["/login","/register","/forgot-password"],g=(0,_.KR)(b.includes(e.path));(0,s.wB)(e,(e=>{g.value=b.includes(e.path),o.value||c()}));const y=(0,_.KR)(!1),h=()=>{y.value=!y.value},k=()=>{W.isAuthenticated=!1,sessionStorage.removeItem("isAuthenticated"),localStorage.removeItem("token"),t.push("/home"),d.add({severity:"info",summary:"Logged Out",detail:"Successfully logged out of your Account.",life:3e3}),setTimeout((()=>{window.location.reload()}),1e3)},x=()=>{d.add({severity:"info",summary:"Coming Soon",detail:"This feature is coming soon.",life:3e3})},w=[];return{items:w,isAuthPage:g,menuVisible:y,toggleMenu:h,goToLogin:v,goToRegister:p,goToHome:f,state:W,visible:a,logOut:k,navigateTo:m,isActive:u,userInfo:o,viewAccount:x,showUploadDialog:l,customUpload:r,onFileSelect:n}}}),Y=a(1241);const J=(0,Y.A)(G,[["render",E],["__scopeId","data-v-b7811b8e"]]);var Z=J,ee=a.p+"img/top_phones.44aaa4dc.svg",te=a.p+"img/otp_icon.14df44b7.svg",ae=a.p+"img/breach_scan_icon.73f6efe1.svg",oe=a.p+"img/report_icon.91da9c1a.svg",se=a.p+"img/account_safety_image.a884c195.svg",le=a.p+"img/security_phone_image.34390c8f.svg",re=a.p+"img/footer_shape.5a50d8b9.svg";const ie={class:"home-background relative"},ne={class:"relative max-w-7xl 3xl:max-w-9xl"},de={class:"relative grid grid-cols-1 lg:grid-cols-2 mt-40 md:mt-20 lg:mt-40 3xl:mt-48"},ce={class:"md:mt-24 content ml-10 2xl:ml-0"};function ue(e,t,a,o,l,r){const i=(0,s.g2)("Toast"),n=(0,s.g2)("Divider");return(0,s.uX)(),(0,s.CE)("div",ie,[(0,s.bF)(i,{class:"z-50"}),(0,s.Lk)("div",ne,[(0,s.Lk)("div",de,[(0,s.Lk)("div",ce,[t[1]||(t[1]=(0,s.Lk)("h1",{class:"text-7xl font-extrabold mb-4 md:mb-6 text-white font-roboto"},"Protect Your Data",-1)),t[2]||(t[2]=(0,s.Lk)("p",{class:"text-2xl mb-5 font-roboto text-white font-light"}," Stay ahead of security threats by generating personalized breach reports in seconds. ",-1)),(0,s.Lk)("button",{class:"bg-transparent border-2 border-white text-white text-2xl tracking-wider font-semibold py-3 px-5 lg:px-6 rounded-full hover:shadow-md transform transition-transform hover:scale-103 active:scale-100",onClick:t[0]||(t[0]=(...t)=>e.goToReports&&e.goToReports(...t))}," Generate Report ")]),t[3]||(t[3]=(0,s.Lk)("div",{class:"relative justify-end hidden lg:flex z-2 -mb-24 -mt-4 -mr-3"},[(0,s.Lk)("img",{src:ee,alt:"Phones",class:"w-full max-w-xl lg:max-w-none"})],-1))])]),t[4]||(t[4]=(0,s.Fv)('<div class="bg-white py-16 mt-20 lg:mt-0 rounded-2xl shadow-xl max-w-8xl 3xl:max-w-9xl px-8 content transform transition-transform hover:scale-101" data-v-194d25a1><h2 class="text-6xl font-extrabold text-center mb-12 text-primaryText font-roboto" data-v-194d25a1> How it works </h2><div class="grid grid-cols-1 md:grid-cols-3 gap-y-8 gap-x-16" data-v-194d25a1><div class="text-center border-4 border-[#1D1128] rounded-xl p-2 shadow-lg transform transition-transform hover:scale-101 active:scale-100" data-v-194d25a1><img src="'+te+'" alt="Create Account" class="mx-auto mb-2" data-v-194d25a1><p class="font-normal text-xl mb-3 px-3 leading-10 text-primaryText font-roboto" data-v-194d25a1> Create an account and verify your account to get started. It’s quick, easy, and secure. </p></div><div class="text-center border-4 border-[#1D1128] rounded-xl p-2 shadow-lg transform transition-transform hover:scale-101 active:scale-100" data-v-194d25a1><img src="'+ae+'" alt="Scan Breach" class="mx-auto mb-2" data-v-194d25a1><p class="font-normal text-xl mb-3 px-3 leading-10 text-primaryText font-roboto" data-v-194d25a1> Our system scans breach databases and cross-checks your information against known data leaks. </p></div><div class="text-center border-4 border-[#1D1128] rounded-xl p-2 shadow-lg transform transition-transform hover:scale-101 active:scale-100" data-v-194d25a1><img src="'+oe+'" alt="Detailed Report" class="mx-auto mb-2" data-v-194d25a1><p class="font-normal text-xl mb-3 px-3 leading-10 text-primaryText font-roboto" data-v-194d25a1> Receive a detailed report showing which breaches exposed your data and what actions you can take. </p></div></div></div><div class="bg-white pb-12 mt-16 rounded-2xl shadow-xl max-w-8xl 3xl:max-w-9xl px-8 content transform transition-transform hover:scale-101" data-v-194d25a1><div class="grid grid-cols-1 md:grid-cols-2 items-center gap-x-12" data-v-194d25a1><div data-v-194d25a1><h2 class="text-6xl font-extrabold mb-12 pt-16 text-primaryText font-roboto" data-v-194d25a1> Account Safety </h2><p class="text-xl font-normal leading-10 text-primaryText font-roboto" data-v-194d25a1> Every time a report is generated for your email, you will be notified immediately. Our platform also uses One-Time Passwords (OTP) for login and authentication, adding an extra layer of security. This guarantees that only you have access to your sensitive data and report, keeping your account safe from unauthorized access. </p></div><div class="flex justify-center pt-10" data-v-194d25a1><img src="'+se+'" alt="Account Safety" class="max-w-full transform transition-transform hover:scale-101 active:scale-100" data-v-194d25a1></div></div></div><div class="bg-white pt-14 mt-16 rounded-2xl shadow-xl max-w-8xl 3xl:max-w-9xl px-8 z-10 transform transition-transform hover:scale-101" data-v-194d25a1><div class="grid grid-cols-1 md:grid-cols-[1fr_2fr] gap-x-10 gap-y-3 items-center" data-v-194d25a1><div class="flex justify-start md:ml-[-2rem]" data-v-194d25a1><img src="'+le+'" alt="Security Phone" class="max-w-full transform transition-transform hover:scale-101 active:scale-100" data-v-194d25a1></div><div data-v-194d25a1><h2 class="text-6xl font-extrabold mb-12 text-primaryText font-roboto" data-v-194d25a1> Your Security, Our Priority </h2><p class="text-xl font-normal leading-10 text-primaryText font-roboto" data-v-194d25a1> We prioritize your security. All data is encrypted, and we never store personal information beyond what&#39;s necessary to generate your report. Your privacy and safety are always at the forefront of everything we do. </p><p class="text-xl font-normal leading-10 mt-6 pb-12 text-primaryText font-roboto" data-v-194d25a1> We follow industry-leading security practices to ensure that your data is always protected. From secure connections to encrypted data handling, we make sure that your information stays private and out of the wrong hands. You can trust that our platform is built with your safety in mind. </p></div></div></div><div class="absolute w-full bottom-0 content" data-v-194d25a1><img src="'+re+'" alt="Footer Shape" class="w-full h-auto" data-v-194d25a1></div>',4)),(0,s.bF)(n,{class:"footer-divider mt-32 content"}),t[5]||(t[5]=(0,s.Lk)("footer",{class:"relative grid grid-cols-2 justify-between items-center w-full pb-5 pt-4 content"},[(0,s.Lk)("p",{class:"text-base text-left px-4 md:px-8 font-roboto font-light",style:{color:"#E2E8F0"}},"© 2024 Spearow. All rights reserved."),(0,s.Lk)("p",{class:"text-base text-right px-4 md:px-8 font-roboto font-light",style:{color:"#E2E8F0"}}," spearow.pwned@gmail.com")],-1))])}var me=a(2160),pe=(0,s.pM)({name:"HomePage",components:{Divider:me.A,Toast:H.A},setup(){const e=(0,q.d)();(0,s.sV)((()=>{const a=t.currentRoute.value.query.message;a&&e.add({severity:"success",summary:"Success",detail:a,life:3e3}),t.replace({query:null})}));const t=(0,D.rd)(),a=()=>{W.isAuthenticated?setTimeout((()=>{t.push("/reports")}),50):e.add({severity:"warn",summary:"Not Authorized",detail:"Please Log In or Create an Account first.",life:3e3})};return{goToReports:a}}});const ve=(0,Y.A)(pe,[["render",ue],["__scopeId","data-v-194d25a1"]]);var fe=ve;const be={class:"login-register-background"},ge={class:"relative mb-4 mt-7"},ye={class:"relative mb-4 mt-6"},he={class:"mt-6"},ke={class:"mt-28 text-center"},xe={class:"text-sm",style:{color:"#828282"}},we={class:"flex justify-center mb-5"},Le={class:"flex justify-center mb-2"},Te={key:0,class:"blur-overlay"};function Ce(e,t,a,l,i,n){const d=(0,s.g2)("Toast"),c=(0,s.g2)("InputText"),u=(0,s.g2)("Password"),m=(0,s.g2)("Button"),p=(0,s.g2)("InputOtp"),v=(0,s.g2)("Dialog");return(0,s.uX)(),(0,s.CE)("div",be,[(0,s.bF)(d),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.goBack&&e.goBack(...t)),class:"absolute top-10 left-10 text-white transform transition-transform hover:scale-110 active:scale-100"},t[8]||(t[8]=[(0,s.Lk)("i",{class:"pi pi-arrow-left",style:{"font-size":"1.5rem"}},null,-1)])),(0,s.Lk)("form",{onSubmit:t[4]||(t[4]=(0,o.D$)(((...t)=>e.login&&e.login(...t)),["prevent"])),onKeyup:t[5]||(t[5]=(0,o.jR)(((...t)=>e.submit&&e.submit(...t)),["enter"])),class:"bg-white p-5 rounded-xl shadow-lg max-w-md w-full mb-20 mt-10"},[(0,s.Lk)("img",{src:r,alt:"Logo",class:"mx-auto mb-4 mt-1 h-200 w-200 transform transition-transform hover:scale-104 active:scale-100 cursor-pointer",onClick:t[1]||(t[1]=(...t)=>e.goToHome&&e.goToHome(...t))}),t[12]||(t[12]=(0,s.Lk)("h1",{class:"text-center font-bold mb-2 text-4xl",style:{color:"#525252"}},"Login to your Account",-1)),t[13]||(t[13]=(0,s.Lk)("p",{class:"text-center mb-4 text-sm",style:{color:"#525252"}},"See where your information has been leaked",-1)),(0,s.Lk)("div",ge,[t[9]||(t[9]=(0,s.Lk)("label",{for:"username",class:"absolute -top-6 px-0.5 font-semibold text-sm",style:{color:"#828282"}},"Email",-1)),(0,s.bF)(c,{modelValue:e.username,"onUpdate:modelValue":t[2]||(t[2]=t=>e.username=t),id:"username",type:"email",placeholder:"mail@abc.com",class:"w-full"},null,8,["modelValue"])]),(0,s.Lk)("div",ye,[t[10]||(t[10]=(0,s.Lk)("label",{for:"password",class:"absolute -top-6 px-0.5 font-semibold text-sm",style:{color:"#828282"}},"Password",-1)),(0,s.bF)(u,{modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t),id:"password",type:"password",feedback:!1,toggleMask:"",placeholder:"*********",class:"w-full"},null,8,["modelValue"]),(0,s.bF)(m,{as:"router-link",label:"Forgot Password?",link:"",to:"/forgot-password",class:"font-semibold text-xs absolute -right-4 -bottom-8",style:{color:"#1D1128"}})]),(0,s.Lk)("div",he,[(0,s.bF)(m,{label:"Login",loading:e.loading,disabled:!e.isFormValid,type:"submit",class:"w-full text-white font-extrabold text-lg p-button-rounded hover:shadow-md transform transition-transform hover:scale-102 active:scale-100",style:{"background-color":"#1D1128"}},null,8,["loading","disabled"])]),(0,s.Lk)("div",ke,[(0,s.Lk)("p",xe,[t[11]||(t[11]=(0,s.eW)(" Not registered yet? ")),(0,s.bF)(m,{as:"router-link",label:"Create an Account",link:"",to:"/register",class:"font-semibold text-sm pl-1",style:{color:"#1D1128"}})])])],32),(0,s.bF)(v,{visible:e.otpRequired,"onUpdate:visible":t[7]||(t[7]=t=>e.otpRequired=t),modal:"",class:"rounded-xl shadow-lg font-nunito text-primaryText",closable:!0,onKeyup:(0,o.jR)(e.submitOtp,["enter"])},{default:(0,s.k6)((()=>[t[14]||(t[14]=(0,s.Lk)("h3",{class:"text-center text-2xl font-bold mb-4"},"Authenticate Your Account",-1)),t[15]||(t[15]=(0,s.Lk)("p",{class:"text-center text-surface-500 mb-5"},"Please enter the OTP sent to your email.",-1)),(0,s.Lk)("div",we,[(0,s.bF)(p,{modelValue:e.otp,"onUpdate:modelValue":t[6]||(t[6]=t=>e.otp=t),integerOnly:"",length:6,class:"mx-7",style:{gap:"0.5rem"}},{default:(0,s.k6)((({attrs:e,events:t})=>[(0,s.Lk)("input",(0,s.v6)({type:"text"},e,(0,s.Tb)(t,!0),{class:"custom-otp-input",maxlength:"1",autofocus:""}),null,16)])),_:1},8,["modelValue"])]),(0,s.Lk)("div",Le,[(0,s.bF)(m,{label:"Resend Code",link:"",onClick:e.login,class:"mr-4 transform transition-none hover:scale-102 active:scale-100"},null,8,["onClick"]),(0,s.bF)(m,{label:"Submit Code",onClick:e.submitOtp,disabled:!e.isOTPValid,class:"text-white font-extrabold p-button-rounded ml-4 hover:shadow-md transform transition-transform hover:scale-102 active:scale-100",style:{"background-color":"#1D1128"}},null,8,["onClick","disabled"])])])),_:1},8,["visible","onKeyup"]),e.otpRequired?((0,s.uX)(),(0,s.CE)("div",Te)):(0,s.Q3)("",!0)])}var Fe=a(6338),Ae=a(1078),Re=a(638),Pe=(0,s.pM)({name:"LoginPage",components:{InputText:Fe.A,Button:X.A,Dialog:M.A,InputOtp:Ae.A,Password:Re.A,Toast:H.A},setup(){const e=(0,_.KR)(""),t=(0,_.KR)(""),a=(0,D.rd)(),o=(0,_.KR)(!1),l=(0,_.KR)(""),r=(0,_.KR)(!1),i=(0,q.d)();(0,s.sV)((()=>{const e=a.currentRoute.value.query.message;e&&i.add({severity:"success",summary:"Success",detail:e,life:3e3}),a.replace({query:null})}));const n=(0,s.EW)((()=>""!==e.value.trim()&&""!==t.value.trim())),d=(0,s.EW)((()=>6==l.value.length)),c=async()=>{if(n.value){o.value=!0;try{const o={email:e.value,password:t.value},s=await Q.login(o);s.data.message.includes("OTP sent")?(r.value=!0,i.add({severity:"info",summary:"OTP Sent",detail:"OTP code sent to "+e.value+".",life:3e3})):(W.isAuthenticated=!0,sessionStorage.setItem("isAuthenticated","true"),localStorage.setItem("token",s.data.token),a.push({path:"/home",query:{message:"Welcome, logged in successfully!"}}))}catch(s){console.error("Login failed:",s),i.add({severity:"error",summary:"Error",detail:s.response?.data?.detail||"Login failed. Please try again.",life:3e3})}finally{o.value=!1}}else i.add({severity:"warn",summary:"Invalid",detail:"Please enter email and password.",life:3e3})},u=async()=>{if(d.value)try{const o={email:e.value,password:t.value,otp:l.value},s=await Q.login(o);W.isAuthenticated=!0,sessionStorage.setItem("isAuthenticated","true"),localStorage.setItem("token",s.data.token),r.value=!1,a.push({path:"/home",query:{message:"Welcome, logged in successfully!"}})}catch(o){console.error("OTP verification failed:",o),i.add({severity:"error",summary:"Error",detail:"Invalid OTP. Please try again.",life:3e3})}else i.add({severity:"warn",summary:"Invalid",detail:"Please enter OTP.",life:3e3})},m=()=>{setTimeout((()=>{a.push("/home")}),50)},p=()=>{setTimeout((()=>{a.back()}),50)};return{username:e,password:t,login:c,loading:o,isFormValid:n,isOTPValid:d,otp:l,otpRequired:r,submitOtp:u,goToHome:m,goBack:p}}});const Ue=(0,Y.A)(Pe,[["render",Ce]]);var Ve=Ue;const Se={class:"regular-background"},Ie={class:"report-generator p-10 rounded-xl shadow-xl w-full max-w-lg"},Ee={key:0},_e={class:"form-group"},De={key:0,class:"form-group"},Oe={class:"space-y-2"},Be={class:"flex items-center justify-between"},Ke={class:"flex items-center justify-between"},Xe={class:"flex items-center justify-between"},je={key:0,class:"form-group mt-4"},Me={key:0,class:"text-red-500"},ze={class:"form-group"},We={key:1,class:"response-message"};function qe(e,t,a,r,i,n){const d=(0,s.g2)("Toast"),c=(0,s.g2)("RadioButton");return(0,s.uX)(),(0,s.CE)("div",Se,[(0,s.bF)(d,{class:"z-50"}),(0,s.Lk)("div",Ie,[e.isGenerating?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",Ee,[t[19]||(t[19]=(0,s.Lk)("h2",{class:"text-xl font-bold"},"Generate Your Custom Report",-1)),(0,s.Lk)("form",{onSubmit:t[7]||(t[7]=(0,o.D$)(((...t)=>e.generateReport&&e.generateReport(...t)),["prevent"]))},[(0,s.Lk)("div",_e,[t[9]||(t[9]=(0,s.Lk)("label",{for:"reportType"},"Report Type:",-1)),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.reportType=t),id:"reportType",required:""},t[8]||(t[8]=[(0,s.Lk)("option",{value:"detailed"},"Detailed Breach Report",-1),(0,s.Lk)("option",{value:"user"},"My Breach Report",-1)]),512),[[o.u1,e.reportType]])]),"detailed"===e.reportType?((0,s.uX)(),(0,s.CE)("div",De,[t[14]||(t[14]=(0,s.Lk)("label",{for:"reportCategory"},"Report Categories:",-1)),(0,s.Lk)("div",Oe,[(0,s.Lk)("div",Be,[t[10]||(t[10]=(0,s.Lk)("span",null,"All Breaches",-1)),(0,s.bF)(c,{modelValue:e.reportCategory,"onUpdate:modelValue":t[1]||(t[1]=t=>e.reportCategory=t),inputId:"allbreaches",value:"allbreaches",class:"ml-2"},null,8,["modelValue"])]),(0,s.Lk)("div",Ke,[t[11]||(t[11]=(0,s.Lk)("span",null,"Latest Breaches",-1)),(0,s.bF)(c,{modelValue:e.reportCategory,"onUpdate:modelValue":t[2]||(t[2]=t=>e.reportCategory=t),inputId:"latestBreaches",value:"latestBreaches",class:"ml-2"},null,8,["modelValue"])]),(0,s.Lk)("div",Xe,[t[12]||(t[12]=(0,s.Lk)("span",null,"Single Breached Site",-1)),(0,s.bF)(c,{modelValue:e.reportCategory,"onUpdate:modelValue":t[3]||(t[3]=t=>e.reportCategory=t),inputId:"singleBreachedSite",value:"singleBreachedSite",class:"ml-2"},null,8,["modelValue"])])]),"singleBreachedSite"===e.reportCategory?((0,s.uX)(),(0,s.CE)("div",je,[t[13]||(t[13]=(0,s.Lk)("label",{for:"singleBreachSite"},"Breach Site:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"singleBreachSite","onUpdate:modelValue":t[4]||(t[4]=t=>e.singleBreachSite=t),required:"",onInput:t[5]||(t[5]=(...t)=>e.validateSingleBreachSite&&e.validateSingleBreachSite(...t)),class:"border border-gray-300 p-2 rounded w-full"},null,544),[[o.Jo,e.singleBreachSite]]),e.singleBreachSiteError?((0,s.uX)(),(0,s.CE)("span",Me,(0,l.v_)(e.singleBreachSiteError),1)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),(0,s.Lk)("div",ze,[t[16]||(t[16]=(0,s.Lk)("label",{for:"reportFormat"},"Report Format:",-1)),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.reportFormat=t),id:"reportFormat",required:""},t[15]||(t[15]=[(0,s.Lk)("option",{value:"csv"},"CSV",-1),(0,s.Lk)("option",{value:"json"},"JSON",-1),(0,s.Lk)("option",{value:"pdf"},"PDF",-1)]),512),[[o.u1,e.reportFormat]])]),t[17]||(t[17]=(0,s.Lk)("div",{class:"form-group"},null,-1)),t[18]||(t[18]=(0,s.Lk)("button",{type:"submit",class:"hover:shadow-md transform transition-transform hover:scale-102 active:scale-100"},"Generate Report",-1))],32)])),e.isGenerating?((0,s.uX)(),(0,s.CE)("div",We,[(0,s.Lk)("pre",null," "+(0,l.v_)(e.message)+" ",1)])):(0,s.Q3)("",!0)])])}a(4603),a(7566),a(8721);var He=a(2046),Ne=(0,s.pM)({name:"ReportsPage",components:{RadioButton:He.A,Toast:H.A},setup(){const e=(0,_.KR)(""),t=(0,_.KR)(""),a=(0,_.KR)(""),o=(0,_.KR)(""),s=(0,_.KR)(""),l=(0,_.KR)(""),r=(0,_.KR)(!1),i=(0,_.KR)(""),n=(0,q.d)(),d=()=>{"singleBreachedSite"!==t.value||a.value.trim()?o.value="":o.value="Breach site cannot be empty"},c=async()=>{if("singleBreachedSite"!==t.value||a.value.trim())if(W.isVerified)try{const o={reportType:e.value,reportCategory:"singleBreachedSite"===t.value?a.value:t.value,reportFormat:s.value,notes:l.value,token:localStorage.getItem("token")};if("csv"===s.value){const e=await Q.fetchReports(o),t=window.URL.createObjectURL(new Blob([e.data],{type:"text/csv"})),a=document.createElement("a");a.href=t,a.setAttribute("download","report.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),a.remove(),window.URL.revokeObjectURL(t),i.value="Report Generated Successfully"}else if("json"===s.value){const e=await Q.fetchReports(o);i.value=e.data}else if("pdf"===s.value){const e=await Q.fetchReports(o),t=window.URL.createObjectURL(new Blob([e.data],{type:"application/pdf"})),a=document.createElement("a");a.href=t,a.setAttribute("download","report.pdf"),document.body.appendChild(a),a.click(),document.body.removeChild(a),a.remove(),window.URL.revokeObjectURL(t),i.value="Report Generated Successfully"}}catch(d){d.response?i.value=`Error: ${d.response.data.detail||d.response.data.message||"Unknown error"}`:d.request?i.value="No response received from server. Please try again.":i.value="An error occurred while sending the request. Please try again."}finally{r.value=!0}else n.add({severity:"warn",summary:"Not Verified Yet",detail:'Go to "My Account" and upload your ID first.',life:3e3});else o.value="Breach site cannot be empty"};return{reportType:e,reportCategory:t,singleBreachSite:a,singleBreachSiteError:o,reportFormat:s,notes:l,isGenerating:r,message:i,validateSingleBreachSite:d,generateReport:c}}});const $e=(0,Y.A)(Ne,[["render",qe],["__scopeId","data-v-4b301fc0"]]);var Qe=$e;const Ge={class:"regular-background"},Ye={class:"data-upload p-10 rounded-xl shadow-xl"},Je={class:"mb-4"},Ze={class:"form-group"},et=["disabled"],tt={key:0,class:"mt-4"};function at(e,t,a,r,i,n){const d=(0,s.g2)("DataClassesComponent"),c=(0,s.g2)("ProgressBar");return(0,s.uX)(),(0,s.CE)("div",Ge,[(0,s.Lk)("div",Ye,[(0,s.Lk)("div",Je,[t[2]||(t[2]=(0,s.Lk)("h3",{class:"text-lg font-semibold mb-2"},"Contribute breach data:",-1)),t[3]||(t[3]=(0,s.Lk)("p",{class:"mb-2"},"Include relevant data classes in your breach information. These classes help categorize the types of data exposed in the breach.",-1)),(0,s.bF)(d)]),(0,s.Lk)("form",{onSubmit:t[1]||(t[1]=(0,o.D$)(((...e)=>r.uploadData&&r.uploadData(...e)),["prevent"])),enctype:"multipart/form-data",class:"mt-6"},[(0,s.Lk)("div",Ze,[(0,s.Lk)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>r.handleFileSelect&&r.handleFileSelect(...e)),accept:".json"},null,32),t[4]||(t[4]=(0,s.Lk)("small",null,"Accepted format: JSON",-1))]),(0,s.Lk)("button",{type:"submit",disabled:!r.selectedFile||r.isUploading},(0,l.v_)(r.isUploading?"Uploading...":"Upload Data"),9,et)],32),r.uploadProgress>0&&r.uploadProgress<100?((0,s.uX)(),(0,s.CE)("div",tt,[(0,s.bF)(c,{value:r.uploadProgress},null,8,["value"])])):(0,s.Q3)("",!0),r.uploadMessage?((0,s.uX)(),(0,s.CE)("div",{key:1,class:(0,l.C4)(["mt-4 response-message",{"text-green-500":r.uploadSuccess,"text-red-500":!r.uploadSuccess}])},(0,l.v_)(r.uploadMessage),3)):(0,s.Q3)("",!0)])])}var ot=a(6493);const st={class:"data-classes-container"},lt={key:0,class:"dropdown-content"},rt={key:0},it={key:1,class:"error-message"},nt={key:2,class:"data-classes-list"};function dt(e,t,a,r,i,n){return(0,s.uX)(),(0,s.CE)("div",st,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.toggleDropdown&&r.toggleDropdown(...e)),class:"dropdown-toggle"},[t[1]||(t[1]=(0,s.eW)(" Supported Data Classes ")),(0,s.Lk)("span",{class:(0,l.C4)({"arrow-down":!r.isOpen,"arrow-up":r.isOpen})},null,2)]),(0,s.bF)(o.eB,{name:"dropdown"},{default:(0,s.k6)((()=>[r.isOpen?((0,s.uX)(),(0,s.CE)("div",lt,[r.loading?((0,s.uX)(),(0,s.CE)("p",rt,"Loading data classes...")):(0,s.Q3)("",!0),r.error?((0,s.uX)(),(0,s.CE)("p",it,(0,l.v_)(r.error),1)):(0,s.Q3)("",!0),r.dataClasses.length>0?((0,s.uX)(),(0,s.CE)("ul",nt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.dataClasses,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e,class:"data-class-item"},(0,l.v_)(e),1)))),128))])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)])),_:1})])}var ct={name:"DataClassesComponent",setup(){const e=(0,_.KR)([]),t=(0,_.KR)(!0),a=(0,_.KR)(null),o=(0,_.KR)(!1),l=async()=>{try{const t=await Q.getDataClasses();e.value=t.data.dataclasses}catch(o){console.error("Error fetching data classes:",o),a.value="Failed to load data classes. Please try again later."}finally{t.value=!1}},r=()=>{o.value=!o.value};return(0,s.sV)(l),{dataClasses:e,loading:t,error:a,isOpen:o,toggleDropdown:r}}};const ut=(0,Y.A)(ct,[["render",dt],["__scopeId","data-v-b2196294"]]);var mt=ut,pt={name:"DataUploadPage",components:{ProgressBar:ot.A,DataClassesComponent:mt},setup(){const e=(0,_.KR)(null),t=(0,_.KR)(!1),a=(0,_.KR)(0),o=(0,_.KR)(""),s=(0,_.KR)(!1),l=t=>{const a=t.target.files[0];a?e.value=a:(o.value="Please select a JSON file.",s.value=!1,e.value=null)},r=async()=>{if(!e.value)return;const l=new FormData;l.append("file",e.value),t.value=!0,a.value=0,o.value="";try{const e=await Q.uploadData(l,{onUploadProgress:e=>{a.value=Math.round(100*e.loaded/e.total)}});o.value=e.data.message,s.value=!0}catch(r){o.value=r.response?.data?.detail||"Upload failed. Please try again.",s.value=!1}finally{t.value=!1}};return{selectedFile:e,isUploading:t,uploadProgress:a,uploadMessage:o,uploadSuccess:s,handleFileSelect:l,uploadData:r}}};const vt=(0,Y.A)(pt,[["render",at],["__scopeId","data-v-b2ff5482"]]);var ft=vt;const bt={class:"login-register-background"},gt={class:"flex items-center justify-center mb-4 mr-3"},yt={class:"relative mb-4 max-w-sm mx-auto"},ht={class:"relative mb-4 mt-6 max-w-sm mx-auto"},kt={class:"relative mb-4 mt-6 max-w-sm mx-auto"},xt={class:"relative mb-4 mt-6 max-w-sm mx-auto"},wt={class:"mt-6 max-w-sm mx-auto"},Lt={class:"mt-28 text-center"},Tt={class:"text-sm",style:{color:"#828282"}};function Ct(e,t,a,l,i,n){const d=(0,s.g2)("Toast"),c=(0,s.g2)("InputText"),u=(0,s.g2)("Password"),m=(0,s.g2)("Button");return(0,s.uX)(),(0,s.CE)("div",bt,[(0,s.bF)(d),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.goBack&&e.goBack(...t)),class:"absolute top-10 left-10 text-white transform transition-transform hover:scale-110 active:scale-100"},t[8]||(t[8]=[(0,s.Lk)("i",{class:"pi pi-arrow-left",style:{"font-size":"1.5rem"}},null,-1)])),(0,s.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...t)=>e.register&&e.register(...t)),["prevent"])),onKeyup:t[7]||(t[7]=(0,o.jR)(((...t)=>e.submit&&e.submit(...t)),["enter"])),class:"bg-white py-5 rounded-xl shadow-lg max-w-2xl w-full mb-20 mt-10"},[(0,s.Lk)("div",gt,[(0,s.Lk)("img",{src:r,alt:"Logo",onClick:t[1]||(t[1]=(...t)=>e.goToHome&&e.goToHome(...t)),class:"h-150 w-150 transform transition-transform hover:scale-104 active:scale-100 cursor-pointer"}),t[9]||(t[9]=(0,s.Lk)("h1",{class:"text-5xl font-bold",style:{color:"#525252"}},"Spearow",-1))]),t[16]||(t[16]=(0,s.Lk)("div",{class:"mb-6 text-left max-w-sm mx-auto"},[(0,s.Lk)("h2",{class:"text-4xl font-bold mb-1",style:{color:"#525252"}},"Create an Account"),(0,s.Lk)("p",{class:"text-sm px-1",style:{color:"#525252"}},"Your details are safe with us")],-1)),(0,s.Lk)("div",yt,[t[10]||(t[10]=(0,s.Lk)("label",{for:"name",class:"absolute -top-6 px-0.5 font-semibold text-sm",style:{color:"#828282"}},"Name",-1)),(0,s.bF)(c,{modelValue:e.name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.name=t),id:"name",placeholder:"Enter your name",class:"w-full"},null,8,["modelValue"])]),(0,s.Lk)("div",ht,[t[11]||(t[11]=(0,s.Lk)("label",{for:"email",class:"absolute -top-6 px-0.5 font-semibold text-sm",style:{color:"#828282"}},"Email",-1)),(0,s.bF)(c,{modelValue:e.email,"onUpdate:modelValue":t[3]||(t[3]=t=>e.email=t),id:"email",type:"email",placeholder:"Enter your email address",class:"w-full"},null,8,["modelValue"])]),(0,s.Lk)("div",kt,[t[13]||(t[13]=(0,s.Lk)("label",{for:"password",class:"absolute -top-6 px-0.5 font-semibold text-sm",style:{color:"#828282"}},"Password",-1)),(0,s.bF)(u,{modelValue:e.password,"onUpdate:modelValue":t[4]||(t[4]=t=>e.password=t),id:"password",type:"password",toggleMask:"",placeholder:"Enter a password",promptLabel:"Choose a password",class:"w-full"},{footer:(0,s.k6)((()=>t[12]||(t[12]=[(0,s.Lk)("ul",{class:"pl-4 my-1 leading-normal list-disc text-sm"},[(0,s.Lk)("li",null,"At least one lowercase"),(0,s.Lk)("li",null,"At least one uppercase"),(0,s.Lk)("li",null,"At least one numeric"),(0,s.Lk)("li",null,"Minimum 8 characters")],-1)]))),_:1},8,["modelValue"])]),(0,s.Lk)("div",xt,[t[14]||(t[14]=(0,s.Lk)("label",{for:"confirmPassword",class:"absolute -top-6 px-0.5 font-semibold text-sm",style:{color:"#828282"}},"Confirm Password",-1)),(0,s.bF)(u,{modelValue:e.confirmPassword,"onUpdate:modelValue":t[5]||(t[5]=t=>e.confirmPassword=t),id:"confirmPassword",type:"password",toggleMask:"",feedback:!1,placeholder:"Enter password again",class:"w-full"},null,8,["modelValue"])]),(0,s.Lk)("div",wt,[(0,s.bF)(m,{label:"Create Account",loading:e.loading,disabled:!e.isFormValid,type:"submit",class:"w-full text-white font-extrabold text-lg p-button-rounded hover:shadow-md transform transition-transform hover:scale-102 active:scale-100",style:{"background-color":"#1D1128"}},null,8,["loading","disabled"])]),(0,s.Lk)("div",Lt,[(0,s.Lk)("p",Tt,[t[15]||(t[15]=(0,s.eW)(" Already have an account? ")),(0,s.bF)(m,{as:"router-link",label:"Sign In",link:"",to:"/login",class:"font-semibold text-sm pl-1",style:{color:"#1D1128"}})])])],32)])}var Ft=(0,s.pM)({name:"RegisterPage",components:{InputText:Fe.A,Button:X.A,Password:Re.A,Toast:H.A},setup(){const e=(0,_.KR)(""),t=(0,_.KR)(""),a=(0,_.KR)(""),o=(0,_.KR)(""),l=(0,D.rd)(),r=(0,_.KR)(!1),i=(0,q.d)(),n=(0,s.EW)((()=>""!==e.value.trim()&&""!==t.value.trim()&&""!==a.value.trim()&&""!==o.value.trim())),d=async()=>{if(n.value){r.value=!0;const n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;if(!n.test(t.value))return i.add({severity:"warn",summary:"Invalid",detail:"Please enter a valid email address.",life:3e3}),void(r.value=!1);if(a.value!==o.value)return i.add({severity:"warn",summary:"Invalid",detail:"Passwords do not match!",life:3e3}),void(r.value=!1);const d=/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d).{8,}$/;if(!d.test(a.value))return i.add({severity:"warn",summary:"Invalid",detail:"Please choose a stronger password.",life:3e3}),void(r.value=!1);try{const o={name:e.value,email:t.value,password:a.value},s=await Q.register(o);console.log(s.data),l.push({path:"/login",query:{message:"Thank you, "+e.value+", you have been registered successfully!"}})}catch(s){console.error("Registration failed:",s),i.add({severity:"error",summary:"Error",detail:s.response?.data?.detail||"Login failed. Please try again.",life:3e3})}finally{r.value=!1}}else i.add({severity:"warn",summary:"Invalid",detail:"Please fill in all fields",life:3e3})},c=()=>{setTimeout((()=>{l.push("/home")}),50)},u=()=>{setTimeout((()=>{l.back()}),50)};return{name:e,email:t,password:a,confirmPassword:o,isFormValid:n,loading:r,register:d,goToHome:c,goBack:u}}});const At=(0,Y.A)(Ft,[["render",Ct]]);var Rt=At;const Pt={class:"login-register-background"},Ut={class:"relative mb-4 mt-7"},Vt={key:0},St={class:"relative mb-4 mt-6"},It={class:"relative mb-4 mt-6"},Et={class:"mt-6"},_t={class:"mt-28 text-center"},Dt={class:"text-sm",style:{color:"#828282"}},Ot={class:"flex justify-center mb-5"},Bt={class:"flex justify-center mb-2"},Kt={key:0,class:"blur-overlay"};function Xt(e,t,a,l,i,n){const d=(0,s.g2)("Toast"),c=(0,s.g2)("InputText"),u=(0,s.g2)("Password"),m=(0,s.g2)("Button"),p=(0,s.g2)("InputOtp"),v=(0,s.g2)("Dialog");return(0,s.uX)(),(0,s.CE)("div",Pt,[(0,s.bF)(d),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.goBack&&e.goBack(...t)),class:"absolute top-10 left-10 text-white transform transition-transform hover:scale-110 active:scale-100 cursor-pointer"},t[8]||(t[8]=[(0,s.Lk)("i",{class:"pi pi-arrow-left",style:{"font-size":"1.5rem"}},null,-1)])),(0,s.Lk)("form",{onSubmit:t[5]||(t[5]=(0,o.D$)(((...t)=>e.resetPassword&&e.resetPassword(...t)),["prevent"])),class:"bg-white p-5 rounded-xl shadow-lg max-w-md w-full mb-20 mt-10"},[(0,s.Lk)("img",{src:r,alt:"Logo",onClick:t[1]||(t[1]=(...t)=>e.goToHome&&e.goToHome(...t)),class:"mx-auto mb-4 mt-1 h-200 w-200 transform transition-transform hover:scale-104 active:scale-100"}),t[14]||(t[14]=(0,s.Lk)("h1",{class:"text-center font-bold mb-2 text-4xl",style:{color:"#525252"}},"Reset Your Password",-1)),t[15]||(t[15]=(0,s.Lk)("p",{class:"text-center mb-4 text-sm",style:{color:"#525252"}},"Enter your email and new password",-1)),(0,s.Lk)("div",Ut,[t[9]||(t[9]=(0,s.Lk)("label",{for:"email",class:"absolute -top-6 px-0.5 font-semibold text-sm",style:{color:"#828282"}},"Email",-1)),(0,s.bF)(c,{modelValue:e.email,"onUpdate:modelValue":t[2]||(t[2]=t=>e.email=t),id:"email",type:"email",placeholder:"Enter your email",class:"w-full"},null,8,["modelValue"])]),e.showPasswordFields?((0,s.uX)(),(0,s.CE)("div",Vt,[(0,s.Lk)("div",St,[t[11]||(t[11]=(0,s.Lk)("label",{for:"newPassword",class:"absolute -top-6 px-0.5 font-semibold text-sm",style:{color:"#828282"}},"New Password",-1)),(0,s.bF)(u,{modelValue:e.newPassword,"onUpdate:modelValue":t[3]||(t[3]=t=>e.newPassword=t),id:"newPassword",type:"password",toggleMask:"",placeholder:"Enter new password",promptLabel:"Choose a password",class:"w-full"},{footer:(0,s.k6)((()=>t[10]||(t[10]=[(0,s.Lk)("ul",{class:"pl-4 my-1 leading-normal list-disc text-sm"},[(0,s.Lk)("li",null,"At least one lowercase"),(0,s.Lk)("li",null,"At least one uppercase"),(0,s.Lk)("li",null,"At least one numeric"),(0,s.Lk)("li",null,"Minimum 8 characters")],-1)]))),_:1},8,["modelValue"])]),(0,s.Lk)("div",It,[t[12]||(t[12]=(0,s.Lk)("label",{for:"confirmPassword",class:"absolute -top-6 px-0.5 font-semibold text-sm",style:{color:"#828282"}},"Confirm Password",-1)),(0,s.bF)(u,{modelValue:e.confirmPassword,"onUpdate:modelValue":t[4]||(t[4]=t=>e.confirmPassword=t),id:"confirmPassword",type:"password",toggleMask:"",feedback:!1,placeholder:"Confirm new password",class:"w-full"},null,8,["modelValue"])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",Et,[(0,s.bF)(m,{label:"Reset Password",loading:e.loading,type:"submit",disabled:!e.isFormValid,class:"w-full text-white font-extrabold text-lg p-button-rounded hover:shadow-md transform transition-transform hover:scale-102 active:scale-100",style:{"background-color":"#1D1128"}},null,8,["loading","disabled"])]),(0,s.Lk)("div",_t,[(0,s.Lk)("p",Dt,[t[13]||(t[13]=(0,s.eW)(" Remembered password? ")),(0,s.bF)(m,{as:"router-link",label:"Sign In",link:"",to:"/login",class:"font-semibold text-sm pl-1",style:{color:"#1D1128"}})])])],32),(0,s.bF)(v,{visible:e.otpRequired,"onUpdate:visible":t[7]||(t[7]=t=>e.otpRequired=t),modal:"",class:"rounded-xl shadow-lg font-nunito text-primaryText",closable:!0,onKeyup:(0,o.jR)(e.submitOtp,["enter"])},{default:(0,s.k6)((()=>[t[16]||(t[16]=(0,s.Lk)("h3",{class:"text-center text-2xl font-bold mb-4"},"Confirm Your Email Address",-1)),t[17]||(t[17]=(0,s.Lk)("p",{class:"text-center text-surface-500 mb-5"},"Please enter the OTP sent to your email.",-1)),(0,s.Lk)("div",Ot,[(0,s.bF)(p,{modelValue:e.otp,"onUpdate:modelValue":t[6]||(t[6]=t=>e.otp=t),integerOnly:"",length:6,class:"mx-7",style:{gap:"0.5rem"}},{default:(0,s.k6)((({attrs:e,events:t})=>[(0,s.Lk)("input",(0,s.v6)({type:"text"},e,(0,s.Tb)(t,!0),{class:"custom-otp-input",maxlength:"1",autofocus:""}),null,16)])),_:1},8,["modelValue"])]),(0,s.Lk)("div",Bt,[(0,s.bF)(m,{label:"Resend Code",link:"",onClick:e.handlePasswordReset,class:"mr-4 transform transition-none hover:scale-102 active:scale-100"},null,8,["onClick"]),(0,s.bF)(m,{label:"Submit Code",onClick:e.submitOtp,disabled:!e.isOTPValid,class:"text-white font-extrabold p-button-rounded ml-4 hover:shadow-md transform transition-transform hover:scale-102 active:scale-100",style:{"background-color":"#1D1128"}},null,8,["onClick","disabled"])])])),_:1},8,["visible","onKeyup"]),e.otpRequired?((0,s.uX)(),(0,s.CE)("div",Kt)):(0,s.Q3)("",!0)])}var jt=(0,s.pM)({name:"ForgotPasswordPage",components:{InputText:Fe.A,Button:X.A,Dialog:M.A,InputOtp:Ae.A,Password:Re.A,Toast:H.A},setup(){const e=(0,_.KR)(""),t=(0,_.KR)(""),a=(0,_.KR)(""),o=(0,D.rd)(),l=(0,_.KR)(""),r=(0,_.KR)(!1),i=(0,_.KR)(!1),n=(0,_.KR)(!1),d=(0,q.d)(),c=(0,s.EW)((()=>i.value?""!==e.value.trim()&&""!==t.value.trim()&&""!==a.value.trim():""!==e.value.trim())),u=(0,s.EW)((()=>6==l.value.length)),m=async()=>{if(e.value){n.value=!0;try{await Q.forgotPassword({email:e.value}),r.value=!0,d.add({severity:"info",summary:"OTP Sent",detail:"OTP code sent to "+e.value+".",life:3e3})}catch(t){console.error("Error requesting password reset:",t),d.add({severity:"error",summary:"Error",detail:t.response?.data?.detail||"Failed. Please try again.",life:3e3})}finally{n.value=!1}}else d.add({severity:"error",summary:"Error",detail:"Email is required",life:3e3})},p=async()=>{if(u.value&&r.value)try{const t=await Q.verifyOtp({email:e.value,otp:l.value});t.data.message.includes("OTP is valid")?(r.value=!1,i.value=!0,d.add({severity:"success",summary:"Success",detail:"Choose your new password.",life:3e3})):d.add({severity:"error",summary:"Error",detail:"Invalid OTP. Please try again.",life:3e3})}catch(t){console.error("OTP verification failed:",t),d.add({severity:"error",summary:"Error",detail:"Invalid OTP. Please try again.",life:3e3})}else d.add({severity:"warn",summary:"Invalid",detail:"Please enter OTP.",life:3e3})},v=async()=>{if(i.value)if(c.value){if(t.value!==a.value)return void d.add({severity:"warn",summary:"Invalid",detail:"Passwords do not match!",life:3e3});const l=/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d).{8,}$/;if(!l.test(t.value))return void d.add({severity:"warn",summary:"Invalid",detail:"Please choose a stronger password.",life:3e3});n.value=!0;try{await Q.resetPassword({email:e.value,new_password:t.value}),o.push({path:"/login",query:{message:"Password changed successfully!"}})}catch(s){console.error("Password reset failed:",s),d.add({severity:"error",summary:"Error",detail:s.response?.data?.detail||"Failed. Please try again.",life:3e3})}finally{n.value=!1}}else d.add({severity:"warn",summary:"Invalid",detail:"Please fill in all fields",life:3e3});else m()},f=()=>{setTimeout((()=>{o.push("/home")}),50)},b=()=>{setTimeout((()=>{o.back()}),50)};return{email:e,newPassword:t,confirmPassword:a,otp:l,otpRequired:r,showPasswordFields:i,isOTPValid:u,isFormValid:c,loading:n,handlePasswordReset:m,submitOtp:p,resetPassword:v,goToHome:f,goBack:b}}});const Mt=(0,Y.A)(jt,[["render",Xt]]);var zt=Mt;const Wt={class:"regular-background"},qt={class:"bg-white w-11/12 max-w-5xl rounded-xl shadow-lg pt-4 pb-5 px-4 mt-32 mb-28"},Ht={class:"flex items-center space-x-8"},Nt={class:"flex items-center"},$t={class:"flex items-center"},Qt={class:"flex items-start space-x-8"},Gt={key:0},Yt={key:1},Jt={class:"flex items-center space-x-4"},Zt={class:"flex items-center space-x-6"},ea={class:"flex flex-wrap gap-4"},ta={class:"flex items-center"},aa={class:"flex items-center"},oa={class:"flex items-center"},sa={class:"flex justify-end mb-2"};function la(e,t,a,o,r,i){const n=(0,s.g2)("Toast"),d=(0,s.g2)("Tab"),c=(0,s.g2)("TabList"),u=(0,s.g2)("ToggleSwitch"),m=(0,s.g2)("TabPanel"),p=(0,s.g2)("Image"),v=(0,s.g2)("Button"),f=(0,s.g2)("RadioButton"),b=(0,s.g2)("Column"),g=(0,s.g2)("DataTable"),y=(0,s.g2)("TabPanels"),h=(0,s.g2)("Tabs"),k=(0,s.g2)("InputText"),x=(0,s.g2)("InputIcon"),w=(0,s.g2)("IconField"),L=(0,s.g2)("Skeleton");return(0,s.uX)(),(0,s.CE)("div",Wt,[(0,s.bF)(n,{class:"z-50"}),(0,s.Lk)("div",qt,[(0,s.bF)(h,{activeItem:e.activeTab,"onUpdate:activeItem":t[10]||(t[10]=t=>e.activeTab=t),class:"text-primaryText",value:"0"},{default:(0,s.k6)((()=>[(0,s.bF)(c,{class:"flex border-b-2 justify-start"},{default:(0,s.k6)((()=>[(0,s.bF)(d,{value:"0",class:(0,l.C4)(0===e.activeTab?"px-2 py-2 w-auto border-b-2 border-black":"px-2 py-2 w-auto border-b-2 border-transparent hover:!border-black"),onClick:t[0]||(t[0]=t=>e.activeTab=0)},{default:(0,s.k6)((()=>t[13]||(t[13]=[(0,s.Lk)("i",{class:"pi pi-users mr-2"},null,-1),(0,s.Lk)("span",null,"All Users",-1)]))),_:1},8,["class"]),(0,s.bF)(d,{value:"1",class:(0,l.C4)(1===e.activeTab?"px-2 py-2 w-auto border-b-2 border-black":"px-2 py-2 w-auto border-b-2 border-transparent hover:!border-black"),onClick:t[1]||(t[1]=t=>e.activeTab=1)},{default:(0,s.k6)((()=>t[14]||(t[14]=[(0,s.Lk)("i",{class:"pi pi-file-check mr-2"},null,-1),(0,s.Lk)("span",null,"Verify",-1)]))),_:1},8,["class"]),(0,s.bF)(d,{value:"2",class:(0,l.C4)(2===e.activeTab?"px-2 py-2 w-auto border-b-2 border-black":"px-2 py-2 w-auto border-b-2 border-transparent hover:!border-black"),onClick:t[2]||(t[2]=t=>e.activeTab=2)},{default:(0,s.k6)((()=>t[15]||(t[15]=[(0,s.Lk)("i",{class:"pi pi-file mr-2"},null,-1),(0,s.Lk)("span",null,"Reports",-1)]))),_:1},8,["class"]),(0,s.bF)(d,{value:"3",class:(0,l.C4)(3===e.activeTab?"px-2 py-2 w-auto border-b-2 border-black":"px-2 py-2 w-auto border-b-2 border-transparent hover:!border-black"),onClick:t[3]||(t[3]=t=>e.activeTab=3)},{default:(0,s.k6)((()=>t[16]||(t[16]=[(0,s.Lk)("i",{class:"pi pi-check-square mr-2"},null,-1),(0,s.Lk)("span",null,"Unverified Uploads",-1)]))),_:1},8,["class"])])),_:1}),(0,s.bF)(y,null,{default:(0,s.k6)((()=>[(0,s.bF)(m,{value:"0",class:"pt-5"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",Ht,[(0,s.Lk)("div",Nt,[t[17]||(t[17]=(0,s.Lk)("span",{class:"mr-4"},"Verified",-1)),(0,s.bF)(u,{modelValue:e.verifiedToggle,"onUpdate:modelValue":t[4]||(t[4]=t=>e.verifiedToggle=t),disabled:!e.selectedUser,onChange:e.onToggleVerified},null,8,["modelValue","disabled","onChange"])]),(0,s.Lk)("div",$t,[t[18]||(t[18]=(0,s.Lk)("span",{class:"mr-4"},"Admin",-1)),(0,s.bF)(u,{modelValue:e.toggleValue,"onUpdate:modelValue":t[5]||(t[5]=t=>e.toggleValue=t),disabled:!e.selectedUser,onChange:e.onToggleAdmin},null,8,["modelValue","disabled","onChange"])])])])),_:1}),(0,s.bF)(m,{value:"1",class:"pt-5"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",Qt,[e.selectedUser&&e.selectedUser.id_file?((0,s.uX)(),(0,s.CE)("div",Gt,[(0,s.bF)(p,{src:`http://localhost:8000/${e.selectedUser.id_file}`,alt:"User ID Image",width:"100",preview:""},null,8,["src"])])):((0,s.uX)(),(0,s.CE)("div",Yt,t[19]||(t[19]=[(0,s.Lk)("p",{class:"!text-gray-600"},"Select a user to view their ID image.",-1)]))),(0,s.Lk)("div",Jt,[t[20]||(t[20]=(0,s.Lk)("span",{class:"mr-4"},"Verify",-1)),(0,s.bF)(u,{modelValue:e.verifyIdToggle,"onUpdate:modelValue":t[6]||(t[6]=t=>e.verifyIdToggle=t),onChange:e.onToggleIdVerified,disabled:!e.selectedUser||!e.selectedUser.id_file||1!==e.activeTab},null,8,["modelValue","onChange","disabled"])])])])),_:1}),(0,s.bF)(m,{value:"2",class:"pt-5"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",Zt,[(0,s.bF)(v,{label:"Generate Report",icon:"pi pi-download",class:"text-white bg-primaryText p-button-rounded hover:shadow-sm transform transition-transform hover:scale-102 active:scale-100",onClick:e.generateReport,disabled:!e.selectedUser},null,8,["onClick","disabled"]),(0,s.Lk)("div",ea,[(0,s.Lk)("div",ta,[(0,s.bF)(f,{disabled:!e.selectedUser,modelValue:e.selectedFormat,"onUpdate:modelValue":t[7]||(t[7]=t=>e.selectedFormat=t),inputId:"format1",name:"format",value:"PDF"},null,8,["disabled","modelValue"]),t[21]||(t[21]=(0,s.Lk)("label",{for:"format1",class:"ml-2"},"PDF",-1))]),(0,s.Lk)("div",aa,[(0,s.bF)(f,{disabled:!e.selectedUser,modelValue:e.selectedFormat,"onUpdate:modelValue":t[8]||(t[8]=t=>e.selectedFormat=t),inputId:"format2",name:"format",value:"CSV"},null,8,["disabled","modelValue"]),t[22]||(t[22]=(0,s.Lk)("label",{for:"format2",class:"ml-2"},"CSV",-1))]),(0,s.Lk)("div",oa,[(0,s.bF)(f,{disabled:!e.selectedUser,modelValue:e.selectedFormat,"onUpdate:modelValue":t[9]||(t[9]=t=>e.selectedFormat=t),inputId:"format3",name:"format",value:"JSON"},null,8,["disabled","modelValue"]),t[23]||(t[23]=(0,s.Lk)("label",{for:"format3",class:"ml-2"},"JSON",-1))])])])])),_:1}),(0,s.bF)(m,{value:"3",class:"pt-5"},{default:(0,s.k6)((()=>[(0,s.bF)(g,{value:e.unverifiedUploads,loading:e.loadingUploads},{default:(0,s.k6)((()=>[(0,s.bF)(b,{field:"file_name",header:"File Name"}),(0,s.bF)(b,{field:"upload_date",header:"Upload Date"},{body:(0,s.k6)((e=>[(0,s.eW)((0,l.v_)(new Date(e.data.upload_date).toLocaleString()),1)])),_:1}),(0,s.bF)(b,{field:"file_type",header:"File Type"}),(0,s.bF)(b,{header:"Action"},{body:(0,s.k6)((t=>[(0,s.bF)(v,{label:"Verify",icon:"pi pi-check",onClick:a=>e.verifyUpload(t.data.id),class:"p-button-sm"},null,8,["onClick"])])),_:1})])),_:1},8,["value","loading"])])),_:1})])),_:1})])),_:1},8,["activeItem"]),(0,s.Lk)("div",sa,[(0,s.bF)(w,{hidden:3===e.activeTab},{default:(0,s.k6)((()=>[(0,s.bF)(k,{modelValue:e.filters["global"].value,"onUpdate:modelValue":t[11]||(t[11]=t=>e.filters["global"].value=t),placeholder:"Keyword Search"},null,8,["modelValue"]),(0,s.bF)(x,null,{default:(0,s.k6)((()=>t[24]||(t[24]=[(0,s.Lk)("i",{class:"pi pi-search"},null,-1)]))),_:1})])),_:1},8,["hidden"])]),e.loading?((0,s.uX)(),(0,s.Wv)(g,{key:1,value:[{},{},{},{},{},{},{},{},{},{}],paginator:"",rows:10},{default:(0,s.k6)((()=>[(0,s.bF)(b,{header:"Name",style:{width:"20%"}},{body:(0,s.k6)((()=>[(0,s.bF)(L,{width:"100%",height:"1.5rem"})])),_:1}),(0,s.bF)(b,{header:"Email",style:{width:"50%"}},{body:(0,s.k6)((()=>[(0,s.bF)(L,{width:"100%",height:"1.5rem"})])),_:1}),(0,s.bF)(b,{header:"Verified",style:{width:"15%"}},{body:(0,s.k6)((()=>[(0,s.bF)(L,{width:"100%",height:"1.5rem"})])),_:1}),(0,s.bF)(b,{header:"Admin",style:{width:"15%"}},{body:(0,s.k6)((()=>[(0,s.bF)(L,{width:"100%",height:"1.5rem"})])),_:1})])),_:1})):((0,s.uX)(),(0,s.Wv)(g,{key:0,value:e.filteredUsers,selectionMode:"single",selection:e.selectedUser,"onUpdate:selection":t[12]||(t[12]=t=>e.selectedUser=t),onRowSelect:e.onRowSelect,paginator:"",rows:10,filters:e.filters,hidden:3===e.activeTab,globalFilterFields:["name","email","verified","admin"]},{empty:(0,s.k6)((()=>t[25]||(t[25]=[(0,s.eW)(" No users found. ")]))),default:(0,s.k6)((()=>[(0,s.bF)(b,{field:"name",header:"Name",style:{width:"20%"}}),(0,s.bF)(b,{field:"email",header:"Email",style:{width:"50%"}}),(0,s.bF)(b,{field:"verified",header:"Verified",style:{width:"15%"}},{body:(0,s.k6)((({data:e})=>[(0,s.Lk)("i",{class:(0,l.C4)(["pi",{"pi-check-circle !text-green-500":e.verified,"pi-times-circle !text-red-400":!e.verified}])},null,2)])),_:1}),(0,s.bF)(b,{field:"admin",header:"Admin",style:{width:"15%"}},{body:(0,s.k6)((({data:e})=>[(0,s.Lk)("i",{class:(0,l.C4)(["pi",{"pi-check-circle !text-green-500":e.admin,"pi-times-circle !text-red-400":!e.admin}])},null,2)])),_:1})])),_:1},8,["value","selection","onRowSelect","filters","hidden"]))])])}var ra=a(1807),ia=a(9778),na=a(514),da=a(3441),ca=a(8364),ua=a(411),ma=a(373),pa=a(8598),va=a(3788),fa=a(3266),ba=a(2705),ga=a(6085),ya=a(6776),ha=(0,s.pM)({name:"AdminPage",components:{Tabs:ra.A,TabList:ia.A,Tab:na.A,TabPanel:ca.A,TabPanels:da.A,DataTable:ua.A,Column:ma.A,InputText:Fe.A,InputIcon:va.A,IconField:fa.A,Toast:H.A,ToggleSwitch:ba.A,Image:ga.A,Button:X.A,RadioButton:He.A,Skeleton:ya.A},setup(){const e=(0,q.d)(),t=(0,_.KR)(0),a=(0,_.KR)([]),o=(0,_.KR)([]),l=(0,_.KR)(null),r=(0,_.KR)(!0),i=(0,_.KR)(!1),n=(0,_.KR)(!1),d=(0,_.KR)(!1),c=(0,_.KR)([]),u=(0,_.KR)(!1),m=(0,_.KR)("PDF"),p=(0,_.KR)({global:{value:null,matchMode:pa.Rn.CONTAINS}}),v=async()=>{try{const t=await Q.getUsers("/user-data");a.value=t.data.users,o.value=a.value,r.value=!1,e.add({severity:"info",summary:"Success",detail:"User data loaded successfully!",life:3e3})}catch(t){console.error("Error fetching user data:",t),r.value=!1,e.add({severity:"error",summary:"Error",detail:"Failed to fetch user information.",life:3e3})}},f=()=>{o.value=a.value.filter((e=>null!==e.id_file))};(0,s.wB)(t,(e=>{1===e?f():3===e?k():o.value=a.value})),(0,s.sV)((()=>{v()}));const b=e=>{i.value=e.data.admin,n.value=e.data.verified,d.value=e.data.verified},g=async()=>{if(l.value){l.value.admin=i.value;try{await Q.updateAdminStatus(l.value.id,i.value),e.add({severity:"success",summary:"Success",detail:`Admin status updated: ${i.value}`,life:3e3})}catch(t){e.add({severity:"error",summary:"Error",detail:"Failed to update admin status.",life:3e3})}}},y=async()=>{if(l.value){l.value.verified=n.value;try{await Q.updateVerifiedStatus(l.value.id,n.value),e.add({severity:"success",summary:"Success",detail:`Verified status updated: ${n.value}`,life:3e3})}catch(t){e.add({severity:"error",summary:"Error",detail:"Failed to update verified status.",life:3e3})}}},h=async()=>{if(l.value){l.value.verified=d.value;try{await Q.updateVerifiedStatus(l.value.id,d.value),e.add({severity:"success",summary:"Success",detail:`Verified status updated: ${d.value}`,life:3e3}),d.value&&(await Q.sendVerifiedEmail(l.value.id),e.add({severity:"info",summary:"User Notified",detail:"User verified and email sent successfully!",life:3e3}))}catch(t){e.add({severity:"error",summary:"Error",detail:"Failed to update verified status.",life:3e3})}}},k=async()=>{u.value=!0;try{const e=await Q.getUnverifiedUploads();c.value=e.data}catch(t){console.error("Error fetching unverified uploads:",t),e.add({severity:"error",summary:"Error",detail:"Failed to fetch unverified uploads.",life:3e3})}finally{u.value=!1}},x=async t=>{try{await Q.verifyUpload(t),e.add({severity:"success",summary:"Success",detail:"Upload verified successfully!",life:3e3}),c.value=c.value.filter((e=>e.id!==t))}catch(a){console.error("Error verifying upload:",a),e.add({severity:"error",summary:"Error",detail:"Failed to verify upload.",life:3e3})}},w=async()=>{const t={userId:l.value.id,reportFormat:m.value,admin:i.value};try{const a=await Q.getUserReport(t);if("CSV"===m.value){const e=window.URL.createObjectURL(new Blob([a.data],{type:"text/csv"})),t=document.createElement("a");t.href=e,t.setAttribute("download","report.csv"),document.body.appendChild(t),t.click(),document.body.removeChild(t),t.remove(),window.URL.revokeObjectURL(e)}else{const e=window.URL.createObjectURL(new Blob([a.data],{type:"application/pdf"})),t=document.createElement("a");t.href=e,t.setAttribute("download","report.pdf"),document.body.appendChild(t),t.click(),document.body.removeChild(t),t.remove(),window.URL.revokeObjectURL(e)}e.add({severity:"success",summary:"Report",detail:`Generated ${m.value} report successfully!`,life:3e3})}catch(a){e.add({severity:"error",summary:"Error",detail:"Failed to generate report.",life:3e3})}};return{activeTab:t,users:a,filters:p,loading:r,selectedUser:l,onRowSelect:b,toggleValue:i,onToggleAdmin:g,verifiedToggle:n,onToggleVerified:y,filteredUsers:o,verifyIdToggle:d,selectedFormat:m,generateReport:w,onToggleIdVerified:h,unverifiedUploads:c,loadingUploads:u,verifyUpload:x}}});const ka=(0,Y.A)(ha,[["render",la],["__scopeId","data-v-92acd656"]]);var xa=ka;const wa=[{path:"/",redirect:"/home"},{path:"/login",name:"Login",component:Ve,beforeEnter:(e,t,a)=>{sessionStorage.getItem("isAuthenticated")?a("/home"):a()}},{path:"/home",name:"Home",component:fe},{path:"/forgot-password",name:"ForgotPassword",component:zt,beforeEnter:(e,t,a)=>{sessionStorage.getItem("isAuthenticated")?a("/home"):a()}},{path:"/reports",name:"Reports",component:Qe,beforeEnter:(e,t,a)=>{sessionStorage.getItem("isAuthenticated")?a():a("/home")}},{path:"/data-upload",name:"DataUpload",component:ft,beforeEnter:(e,t,a)=>{sessionStorage.getItem("isAuthenticated")?a():a("/home")}},{path:"/register",name:"RegisterPage",component:Rt,beforeEnter:(e,t,a)=>{sessionStorage.getItem("isAuthenticated")?a("/home"):a()}},{path:"/admin",name:"AdminPage",component:xa,beforeEnter:(e,t,a)=>{W.isAdmin?a():a("/home")}}],La=(0,D.aE)({history:(0,D.LA)(),routes:wa,scrollBehavior(){return{top:0}}});var Ta=La,Ca=a(7440),Fa=a(7359),Aa=a(486);const Ra=(0,o.Ef)(Z);Ra.use(Ca.Ay,{theme:{preset:Fa.A,options:{prefix:"p",darkModeSelector:"",cssLayer:{name:"primevue",order:"tailwind-base, tailwind-utilities, primevue"}}}}),Ra.use(Aa.A),Ra.use(Ta),Ra.mount("#app")}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,l){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],l=e[c][2];for(var i=!0,n=0;n<o.length;n++)(!1&l||r>=l)&&Object.keys(a.O).every((function(e){return a.O[e](o[n])}))?o.splice(n--,1):(i=!1,l<r&&(r=l));if(i){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,s,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,l,r=o[0],i=o[1],n=o[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(n)var c=n(a)}for(t&&t(o);d<r.length;d++)l=r[d],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},o=self["webpackChunkhave_l_been_pwned"]=self["webpackChunkhave_l_been_pwned"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(859)}));o=a.O(o)})();
//# sourceMappingURL=app.e14a91f4.js.map